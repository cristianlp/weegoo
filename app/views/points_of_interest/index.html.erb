<% title "Search venues and events" %>

<h1>Search venues and events</h1>

<div id="search">
  <%= form_tag points_of_interest_path, :method => "get" do %>
    <div>
      <%= label_tag "Search" %>:
      <%= radio_button_tag :type, "Venue", params[:type] == "Venue" %><%= label_tag :type_Venue, "Venues" %>
      <%= radio_button_tag :type, "Event", params[:type] == "Event" %><%= label_tag :type_Event, "Events" %>
      <%= radio_button_tag :type, "Everything", params[:type] == "Everything" || true %><%= label_tag :type_Everything, "Everything" %>
    </div>
    <div>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag "Search", :name => nil, :class => "g-button" %>
    </div>
  <% end %>
</div>

<% if not @points_of_interest.empty? %>
  
  <h2>Results for: "<%= params[:search] %>"</h2>
  
  <ul id="points_of_interest_list">
    
    <%= render :partial => "point_of_interest", :collection => @points_of_interest %>
    
  </ul>
  
  <%= paginate @points_of_interest %>
  
<% elsif params[:search] %>
  
  <h2>No results found for: "<%= params[:search] %>"</h2>
  
<% end %>